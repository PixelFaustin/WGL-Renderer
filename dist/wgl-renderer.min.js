!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r,n,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.copyFromImage=function(e){return a.gl.bindTexture(a.gl.TEXTURE_2D,a.texture),a.gl.texImage2D(a.gl.TEXTURE_2D,a.level,a.internalFormat,a.srcFormat,a.srcType,e),isPowerOf2(e.width)&&isPowerOf2(e.height)&&a.gl.generateMipmap(a.gl.TEXTURE_2D),a},this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),this.level=0,this.internalFormat=t[i.srcFormat||"RGBA"];this.srcFormat=t[i.srcFormat||"RGBA"],this.srcType=t[i.srcType||"UNSIGNED_BYTE"];var o=new Uint8Array([255,255,255,255]);t.texImage2D(t.TEXTURE_2D,level,internalFormat,r,n,0,srcFormat,srcType,o),this.description=Object.assign({width:r,height:n},i),this.gl=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this;this.bufferFromMemory=function(t){return gl.bindBuffer(e.gl.ELEMENT_ARRAY_BUFFER,e.vbo),e.gl.bufferData(e.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),e.gl[e.hint]),e}};t.default=function e(t,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.call(this),this.vbo=t.createBuffer(),this.hint=r,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.vbo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,this.gl[this.hint]),this.gl=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bufferFromMemory=function(e){return i.gl.bindBuffer(i.gl.ARRAY_BUFFER,i.vbo),i.gl.bufferData(i.gl.ARRAY_BUFFER,new Float32Array(e),i.gl[i.hint]),i},this.vbo=t.createBuffer(),this.hint=r,t.bindBuffer(t.ARRAY_BUFFER,this.vbo),t.bufferData(t.ARRAY_BUFFER,n,t[r]),this.gl=t}},function(e,t,r){"use strict";var n,i=r(0),a=(n=i)&&n.__esModule?n:{default:n};Object.create(a.default)},function(e,t,r){"use strict"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(r(5)),n(r(4)),n(r(0));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize=function(e,r){t.gl=e,t.canvas=r},this.resize=function(){var e=t.canvas.clientWidth,r=t.canvas.clientHeight;t.canvas.width==e&&t.canvas.height==r||(t.canvas.width=e,t.canvas.height=r)},this.draw=function(e,r,n,i,a){i.renderState,i.shaderProgram;var o=i.vertexArray,l=o.position,u=o.normal,s=o.uv,c=o.index;t.shaderProgram.bind(),t.shaderProgram.setAutomatics(t,i,a),t.gl.bindBuffer(t.gl.ARRAY_BUFFER,l),u&&t.gl.bindBuffer(t.gl.ARRAY_BUFFER,u),s&&t.gl.bindBuffer(t.gl.ARRAY_BUFFER,s),t.texturesDirty&&(t.textureUnits.forEach(function(e){t.gl.texParameteri(t.gl.TEXTURE_2D,t.gl.TEXTURE_WRAP_S,e.sampler.wrapS),t.gl.texParameteri(t.gl.TEXTURE_2D,t.gl.TEXTURE_WRAP_T,e.sampler.wrapT),t.gl.texParameteri(t.gl.TEXTURE_2D,t.gl.TEXTURE_MIN_FILTER,e.sampler.minificationFilter),t.gl.texParameteri(t.gl.TEXTURE_2D,t.gl.TEXTURE_MAG_FILTER,e.sampler.magnificationFilter),t.gl.bindTexture(t.gl.TEXTURE_2D,e.texture)}),t.texturesDirty=!1),t.gl.bindBuffer(t.gl.ELEMENT_ARRAY_BUFFER,c),t.gl.drawElements(e,n,t.gl.UNSIGNED_SHORT,r)},this.clear=function(e){t.gl.clearColor(e.color.r,e.color.g,e.color.b,e.color.a),t.gl.clear(t.gl.COLOR_BUFFER_BIT)},this.viewport={x:0,y:0,w:0,h:0},this.framebuffer=void 0,this.textureUnits=[{texture:null,sampler:null}],this.texturesDirty=!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Device=void 0;var n=l(r(6)),i=l(r(3)),a=l(r(2)),o=l(r(1));function l(e){return e&&e.__esModule?e:{default:e}}var u={createContext:function(e,t){if(e){if((void 0).gl=e.getContext("webgl",t),!(void 0).gl)throw new Error("Could not initialize webgl context! Your browser or hardware does not support WebGL");return(void 0).context=new n.default,(void 0).context.initialize((void 0).gl,(void 0).canvas),(void 0).context}},createVertexBuffer:function(e,t){return new i.default((void 0).gl,e,t)},createIndexBuffer:function(e,t){return new a.default((void 0).gl,e,t)},createTexture2D:function(e,t,r){return new o.default((void 0).gl,e,t,r)}};t.Device=u}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RleHR1cmUyRC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvSW5kZXhCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZlcnRleEJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRHJhd1N0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9Db250ZXh0LmpzIiwid2VicGFjazovLy8uL3NyYy9EZXZpY2UuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlRleHR1cmUyRCIsImdsIiwid2lkdGgiLCJoZWlnaHQiLCJkZXNjcmlwdGlvbiIsIl90aGlzIiwidGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsImNvcHlGcm9tSW1hZ2UiLCJpbWFnZSIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsInRleHR1cmUiLCJ0ZXhJbWFnZTJEIiwibGV2ZWwiLCJpbnRlcm5hbEZvcm1hdCIsInNyY0Zvcm1hdCIsInNyY1R5cGUiLCJpc1Bvd2VyT2YyIiwiZ2VuZXJhdGVNaXBtYXAiLCJjcmVhdGVUZXh0dXJlIiwicGl4ZWwiLCJVaW50OEFycmF5IiwiYXNzaWduIiwiYnVmZmVyRnJvbU1lbW9yeSIsImluZGljZXMiLCJiaW5kQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJ2Ym8iLCJidWZmZXJEYXRhIiwiVWludDE2QXJyYXkiLCJoaW50IiwiSW5kZXhCdWZmZXIiLCJzaXplIiwiX2luaXRpYWxpc2VQcm9wcyIsImNyZWF0ZUJ1ZmZlciIsIlZlcnRleEJ1ZmZlciIsInZlcnRpY2VzIiwiQVJSQVlfQlVGRkVSIiwiRmxvYXQzMkFycmF5IiwiX1JlbmRlclN0YXRlIiwiY3JlYXRlIiwiX1JlbmRlclN0YXRlMiIsImRlZmF1bHQiLCJDb250ZXh0IiwiaW5pdGlhbGl6ZSIsImNhbnZhcyIsInJlc2l6ZSIsImRpc3BsYXlXaWR0aCIsImNsaWVudFdpZHRoIiwiZGlzcGxheUhlaWdodCIsImNsaWVudEhlaWdodCIsImRyYXciLCJwcmltaXRpdmVUeXBlIiwib2Zmc2V0IiwiY291bnQiLCJkcmF3U3RhdGUiLCJzY2VuZVN0YXRlIiwicmVuZGVyU3RhdGUiLCJzaGFkZXJQcm9ncmFtIiwidmVydGV4QXJyYXkiLCJwb3NpdGlvbiIsIm5vcm1hbCIsInV2IiwiaW5kZXgiLCJiaW5kIiwic2V0QXV0b21hdGljcyIsInRleHR1cmVzRGlydHkiLCJ0ZXh0dXJlVW5pdHMiLCJmb3JFYWNoIiwidGV4dHVyZVVuaXQiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9XUkFQX1MiLCJzYW1wbGVyIiwid3JhcFMiLCJURVhUVVJFX1dSQVBfVCIsIndyYXBUIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwibWluaWZpY2F0aW9uRmlsdGVyIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwibWFnbmlmaWNhdGlvbkZpbHRlciIsImRyYXdFbGVtZW50cyIsIlVOU0lHTkVEX1NIT1JUIiwiY2xlYXIiLCJjbGVhclN0YXRlIiwiY2xlYXJDb2xvciIsImNvbG9yIiwiZyIsImIiLCJhIiwiQ09MT1JfQlVGRkVSX0JJVCIsInZpZXdwb3J0IiwieCIsInkiLCJ3IiwiaCIsImZyYW1lYnVmZmVyIiwidW5kZWZpbmVkIiwiRGV2aWNlIiwiY3JlYXRlQ29udGV4dCIsIndlYmdsT3B0aW9ucyIsImdldENvbnRleHQiLCJFcnJvciIsImNvbnRleHQiLCJfQ29udGV4dDIiLCJjcmVhdGVWZXJ0ZXhCdWZmZXIiLCJfVmVydGV4QnVmZmVyMiIsImNyZWF0ZUluZGV4QnVmZmVyIiwiX0luZGV4QnVmZmVyMiIsImNyZWF0ZVRleHR1cmUyRCIsIl9UZXh0dXJlMkQyIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBVSxFQUFBQyxHQUFzRCxPQUFBVixPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQWdCLEVBQUFDLElBR3REeEIsRUFBQTJCLEVBQUEsR0FJQTNCLElBQUE0QixFQUFBLDJIQ2xFRSxTQUFBQyxFQUFZQyxFQUFJQyxFQUFPQyxFQUFRQyxHQUFhLElBQUFDLEVBQUFDLGtHQUFBQyxDQUFBRCxLQUFBTixHQUFBTSxLQTBCNUNFLGNBQWdCLFNBQUFDLEdBZWQsT0FkQUosRUFBS0osR0FBR1Ms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LE9BSXhDOEYiLCJmaWxlIjoid2dsLXJlbmRlcmVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlMkQge1xuICBjb25zdHJ1Y3RvcihnbCwgd2lkdGgsIGhlaWdodCwgZGVzY3JpcHRpb24pIHtcbiAgICB0aGlzLnRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcblxuICAgIHRoaXMubGV2ZWwgPSAwO1xuICAgIHRoaXMuaW50ZXJuYWxGb3JtYXQgPSBnbFtkZXNjcmlwdGlvbi5zcmNGb3JtYXQgfHwgJ1JHQkEnXTtcbiAgICBjb25zdCBib3JkZXIgPSAwO1xuICAgIHRoaXMuc3JjRm9ybWF0ID0gZ2xbZGVzY3JpcHRpb24uc3JjRm9ybWF0IHx8ICdSR0JBJ107XG4gICAgdGhpcy5zcmNUeXBlID0gZ2xbZGVzY3JpcHRpb24uc3JjVHlwZSB8fCAnVU5TSUdORURfQllURSddO1xuICAgIGNvbnN0IHBpeGVsID0gbmV3IFVpbnQ4QXJyYXkoWzI1NSwgMjU1LCAyNTUsIDI1NV0pO1xuICAgIGdsLnRleEltYWdlMkQoXG4gICAgICBnbC5URVhUVVJFXzJELFxuICAgICAgbGV2ZWwsXG4gICAgICBpbnRlcm5hbEZvcm1hdCxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgYm9yZGVyLFxuICAgICAgc3JjRm9ybWF0LFxuICAgICAgc3JjVHlwZSxcbiAgICAgIHBpeGVsXG4gICAgKTtcblxuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBPYmplY3QuYXNzaWduKHsgd2lkdGgsIGhlaWdodCB9LCBkZXNjcmlwdGlvbik7XG4gICAgdGhpcy5nbCA9IGdsO1xuICB9XG5cbiAgY29weUZyb21JbWFnZSA9IGltYWdlID0+IHtcbiAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV8yRCwgdGhpcy50ZXh0dXJlKTtcbiAgICB0aGlzLmdsLnRleEltYWdlMkQoXG4gICAgICB0aGlzLmdsLlRFWFRVUkVfMkQsXG4gICAgICB0aGlzLmxldmVsLFxuICAgICAgdGhpcy5pbnRlcm5hbEZvcm1hdCxcbiAgICAgIHRoaXMuc3JjRm9ybWF0LFxuICAgICAgdGhpcy5zcmNUeXBlLFxuICAgICAgaW1hZ2VcbiAgICApO1xuXG4gICAgaWYgKGlzUG93ZXJPZjIoaW1hZ2Uud2lkdGgpICYmIGlzUG93ZXJPZjIoaW1hZ2UuaGVpZ2h0KSkge1xuICAgICAgdGhpcy5nbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLmdsLlRFWFRVUkVfMkQpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5kZXhCdWZmZXIge1xuICBjb25zdHJ1Y3RvcihnbCwgaGludCwgc2l6ZSkge1xuICAgIHRoaXMudmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgdGhpcy5oaW50ID0gaGludDtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgc2l6ZSwgdGhpcy5nbFt0aGlzLmhpbnRdKTtcbiAgICB0aGlzLmdsID0gZ2w7XG4gIH1cblxuICBidWZmZXJGcm9tTWVtb3J5ID0gaW5kaWNlcyA9PiB7XG4gICAgZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG5cbiAgICB0aGlzLmdsLmJ1ZmZlckRhdGEoXG4gICAgICB0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLFxuICAgICAgbmV3IFVpbnQxNkFycmF5KGluZGljZXMpLFxuICAgICAgdGhpcy5nbFt0aGlzLmhpbnRdXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVydGV4QnVmZmVyIHtcbiAgY29uc3RydWN0b3IoZ2wsIGhpbnQsIHNpemUpIHtcbiAgICB0aGlzLnZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIHRoaXMuaGludCA9IGhpbnQ7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmJvKTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgc2l6ZSwgZ2xbaGludF0pO1xuICAgIHRoaXMuZ2wgPSBnbDtcbiAgfVxuXG4gIGJ1ZmZlckZyb21NZW1vcnkgPSB2ZXJ0aWNlcyA9PiB7XG4gICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLnZibyk7XG4gICAgdGhpcy5nbC5idWZmZXJEYXRhKFxuICAgICAgdGhpcy5nbC5BUlJBWV9CVUZGRVIsXG4gICAgICBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzKSxcbiAgICAgIHRoaXMuZ2xbdGhpcy5oaW50XVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn1cbiIsImltcG9ydCBSZW5kZXJTdGF0ZSBmcm9tICcuL1JlbmRlclN0YXRlLmpzJztcblxuY29uc3QgRHJhd1N0YXRlID0ge1xuICByZW5kZXJTdGF0ZTogT2JqZWN0LmNyZWF0ZShSZW5kZXJTdGF0ZSksXG4gIHNoYWRlclByb2dyYW06IHVuZGVmaW5lZCxcbiAgdmVydGV4QXJyYXk6IHtcbiAgICBwb3NpdGlvbjogdW5kZWZpbmVkLFxuICAgIG5vcm1hbDogdW5kZWZpbmVkLFxuICAgIHV2OiB1bmRlZmluZWQsXG4gICAgaW5kZXg6IHVuZGVmaW5lZFxuICB9XG59O1xuIiwiaW1wb3J0IENsZWFyU3RhdGUgZnJvbSAnLi9DbGVhclN0YXRlJztcbmltcG9ydCBEcmF3U3RhdGUgZnJvbSAnLi9EcmF3U3RhdGUnO1xuaW1wb3J0IFJlbmRlclN0YXRlIGZyb20gJy4vUmVuZGVyU3RhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250ZXh0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy52aWV3cG9ydCA9IHsgeDogMCwgeTogMCwgdzogMCwgaDogMCB9O1xuICAgIHRoaXMuZnJhbWVidWZmZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50ZXh0dXJlVW5pdHMgPSBbeyB0ZXh0dXJlOiBudWxsLCBzYW1wbGVyOiBudWxsIH1dO1xuICAgIHRoaXMudGV4dHVyZXNEaXJ0eSA9IGZhbHNlO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSA9IChnbCwgY2FudmFzKSA9PiB7XG4gICAgdGhpcy5nbCA9IGdsO1xuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICB9O1xuXG4gIHJlc2l6ZSA9ICgpID0+IHtcbiAgICBjb25zdCBkaXNwbGF5V2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcbiAgICBjb25zdCBkaXNwbGF5SGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5jYW52YXMud2lkdGggIT0gZGlzcGxheVdpZHRoIHx8XG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgIT0gZGlzcGxheUhlaWdodFxuICAgICkge1xuICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBkaXNwbGF5V2lkdGg7XG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBkaXNwbGF5SGVpZ2h0O1xuICAgIH1cbiAgfTtcblxuICBkcmF3ID0gKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgY291bnQsIGRyYXdTdGF0ZSwgc2NlbmVTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHsgcmVuZGVyU3RhdGUsIHNoYWRlclByb2dyYW0sIHZlcnRleEFycmF5IH0gPSBkcmF3U3RhdGU7XG4gICAgY29uc3QgeyBwb3NpdGlvbiwgbm9ybWFsLCB1diwgaW5kZXggfSA9IHZlcnRleEFycmF5O1xuXG4gICAgdGhpcy5zaGFkZXJQcm9ncmFtLmJpbmQoKTtcbiAgICB0aGlzLnNoYWRlclByb2dyYW0uc2V0QXV0b21hdGljcyh0aGlzLCBkcmF3U3RhdGUsIHNjZW5lU3RhdGUpO1xuXG4gICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbik7XG5cbiAgICBpZiAobm9ybWFsKSB7XG4gICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIG5vcm1hbCk7XG4gICAgfVxuICAgIGlmICh1dikge1xuICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCB1dik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGV4dHVyZXNEaXJ0eSkge1xuICAgICAgdGhpcy50ZXh0dXJlVW5pdHMuZm9yRWFjaCh0ZXh0dXJlVW5pdCA9PiB7XG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgdGhpcy5nbC5URVhUVVJFX1dSQVBfUyxcbiAgICAgICAgICB0ZXh0dXJlVW5pdC5zYW1wbGVyLndyYXBTXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgdGhpcy5nbC5URVhUVVJFX1dSQVBfVCxcbiAgICAgICAgICB0ZXh0dXJlVW5pdC5zYW1wbGVyLndyYXBUXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgdGhpcy5nbC5URVhUVVJFX01JTl9GSUxURVIsXG4gICAgICAgICAgdGV4dHVyZVVuaXQuc2FtcGxlci5taW5pZmljYXRpb25GaWx0ZXJcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfTUFHX0ZJTFRFUixcbiAgICAgICAgICB0ZXh0dXJlVW5pdC5zYW1wbGVyLm1hZ25pZmljYXRpb25GaWx0ZXJcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRleHR1cmVVbml0LnRleHR1cmUpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMudGV4dHVyZXNEaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleCk7XG4gICAgdGhpcy5nbC5kcmF3RWxlbWVudHMocHJpbWl0aXZlVHlwZSwgY291bnQsIHRoaXMuZ2wuVU5TSUdORURfU0hPUlQsIG9mZnNldCk7XG4gIH07XG5cbiAgY2xlYXIgPSBjbGVhclN0YXRlID0+IHtcbiAgICB0aGlzLmdsLmNsZWFyQ29sb3IoXG4gICAgICBjbGVhclN0YXRlLmNvbG9yLnIsXG4gICAgICBjbGVhclN0YXRlLmNvbG9yLmcsXG4gICAgICBjbGVhclN0YXRlLmNvbG9yLmIsXG4gICAgICBjbGVhclN0YXRlLmNvbG9yLmFcbiAgICApO1xuICAgIHRoaXMuZ2wuY2xlYXIodGhpcy5nbC5DT0xPUl9CVUZGRVJfQklUKTtcbiAgfTtcbn1cbiIsImltcG9ydCBDb250ZXh0IGZyb20gJy4vQ29udGV4dCc7XG5cbmltcG9ydCBWZXJ0ZXhCdWZmZXIgZnJvbSAnLi9WZXJ0ZXhCdWZmZXInO1xuaW1wb3J0IEluZGV4QnVmZmVyIGZyb20gJy4vSW5kZXhCdWZmZXInO1xuaW1wb3J0IFRleHR1cmUyRCBmcm9tICcuL1RleHR1cmUyRCc7XG5cbmNvbnN0IERldmljZSA9IHtcbiAgY3JlYXRlQ29udGV4dDogKGNhbnZhcywgd2ViZ2xPcHRpb25zKSA9PiB7XG4gICAgaWYgKGNhbnZhcykge1xuICAgICAgdGhpcy5nbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIHdlYmdsT3B0aW9ucyk7XG5cbiAgICAgIGlmICghdGhpcy5nbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHdlYmdsIGNvbnRleHQhIFlvdXIgYnJvd3NlciBvciBoYXJkd2FyZSBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbnRleHQgPSBuZXcgQ29udGV4dCgpO1xuICAgICAgdGhpcy5jb250ZXh0LmluaXRpYWxpemUodGhpcy5nbCwgdGhpcy5jYW52YXMpO1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZVZlcnRleEJ1ZmZlcjogKGhpbnQsIHNpemUpID0+IHtcbiAgICByZXR1cm4gbmV3IFZlcnRleEJ1ZmZlcih0aGlzLmdsLCBoaW50LCBzaXplKTtcbiAgfSxcbiAgY3JlYXRlSW5kZXhCdWZmZXI6IChoaW50LCBzaXplKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBJbmRleEJ1ZmZlcih0aGlzLmdsLCBoaW50LCBzaXplKTtcbiAgfSxcbiAgY3JlYXRlVGV4dHVyZTJEOiAod2lkdGgsIGhlaWdodCwgZGVzY3JpcHRpb24pID0+IHtcbiAgICByZXR1cm4gbmV3IFRleHR1cmUyRCh0aGlzLmdsLCB3aWR0aCwgaGVpZ2h0LCBkZXNjcmlwdGlvbik7XG4gIH1cbn07XG5cbmV4cG9ydCB7IERldmljZSB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==